{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kikoocampo/Documents/lighthouse-react/Udemy-react/next-project-meetup/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kikoocampo/Documents/lighthouse-react/Udemy-react/next-project-meetup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/kikoocampo/Documents/lighthouse-react/Udemy-react/next-project-meetup/components/meetups/MeetupDetail.js\",\n    _this = this;\n\nimport classes from './MeetupDetail.module.css';\n\nvar MeetupDetail = function MeetupDetail(props) {\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.detail,\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.image,\n      alt: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: props.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"address\", {\n      children: props.address\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: props.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 10\n  }, _this);\n};\n\n_c = MeetupDetail;\n\nfunction handler(_x, _x2) {\n  return _handler.apply(this, arguments);\n}\n\nfunction _handler() {\n  _handler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(req, res) {\n    var data, client, db, meetupsCollection, result;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(req.method === 'POST')) {\n              _context.next = 13;\n              break;\n            }\n\n            data = req.body; // const { title, image, address, description } = data;\n\n            _context.next = 4;\n            return MongoClient.connect('mongodb+srv://kiko:foiegras25@cluster0.a7gxmqk.mongodb.net/meetups?retryWrites=true&w=majority');\n\n          case 4:\n            client = _context.sent;\n            db = client.db();\n            meetupsCollection = db.collection('meetups');\n            _context.next = 9;\n            return meetupsCollection.insertOne(data);\n\n          case 9:\n            result = _context.sent;\n            console.log(result);\n            client.close();\n            res.status(201).json({\n              message: 'meetup inserted!'\n            });\n\n          case 13:\n            ;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _handler.apply(this, arguments);\n}\n\n;\nexport default MeetupDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"MeetupDetail\");","map":{"version":3,"sources":["/Users/kikoocampo/Documents/lighthouse-react/Udemy-react/next-project-meetup/components/meetups/MeetupDetail.js"],"names":["classes","MeetupDetail","props","detail","image","title","address","description","handler","req","res","method","data","body","MongoClient","connect","client","db","meetupsCollection","collection","insertOne","result","console","log","close","status","json","message"],"mappings":";;;;;;;AAAA,OAAOA,OAAP,MAAoB,2BAApB;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC9B,sBAAO;AAAS,IAAA,SAAS,EAAEF,OAAO,CAACG,MAA5B;AAAA,4BACL;AACE,MAAA,GAAG,EAAED,KAAK,CAACE,KADb;AAEE,MAAA,GAAG,EAAEF,KAAK,CAACG;AAFb;AAAA;AAAA;AAAA;AAAA,aADK,eAKL;AAAA,gBAAKH,KAAK,CAACG;AAAX;AAAA;AAAA;AAAA;AAAA,aALK,eAML;AAAA,gBAAUH,KAAK,CAACI;AAAhB;AAAA;AAAA;AAAA;AAAA,aANK,eAOL;AAAA,gBAAIJ,KAAK,CAACK;AAAV;AAAA;AAAA;AAAA;AAAA,aAPK;AAAA;AAAA;AAAA;AAAA;AAAA,WAAP;AASD,CAVD;;KAAMN,Y;;SAYSO,O;;;;;sEAAf,iBAAuBC,GAAvB,EAA4BC,GAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACMD,GAAG,CAACE,MAAJ,KAAe,MADrB;AAAA;AAAA;AAAA;;AAEUC,YAAAA,IAFV,GAEiBH,GAAG,CAACI,IAFrB,EAGI;;AAHJ;AAAA,mBAKyBC,WAAW,CAACC,OAAZ,CAAoB,gGAApB,CALzB;;AAAA;AAKUC,YAAAA,MALV;AAMUC,YAAAA,EANV,GAMeD,MAAM,CAACC,EAAP,EANf;AAQUC,YAAAA,iBARV,GAQ8BD,EAAE,CAACE,UAAH,CAAc,SAAd,CAR9B;AAAA;AAAA,mBASyBD,iBAAiB,CAACE,SAAlB,CAA4BR,IAA5B,CATzB;;AAAA;AASUS,YAAAA,MATV;AAWIC,YAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEAL,YAAAA,MAAM,CAACQ,KAAP;AAEAd,YAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,cAAAA,OAAO,EAAE;AAAV,aAArB;;AAfJ;AAgBG;;AAhBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAkBC;AACD,eAAe1B,YAAf","sourcesContent":["import classes from './MeetupDetail.module.css';\n\n\nconst MeetupDetail = (props) => {\n  return <section className={classes.detail}>\n    <img\n      src={props.image}\n      alt={props.title}\n    />\n    <h1>{props.title}</h1>\n    <address>{props.address}</address>\n    <p>{props.description}</p>\n  </section>\n};\n\nasync function handler(req, res) {\n  if (req.method === 'POST') {\n    const data = req.body;\n    // const { title, image, address, description } = data;\n\n    const client = await MongoClient.connect('mongodb+srv://kiko:foiegras25@cluster0.a7gxmqk.mongodb.net/meetups?retryWrites=true&w=majority');\n    const db = client.db();\n\n    const meetupsCollection = db.collection('meetups');\n    const result = await meetupsCollection.insertOne(data);\n\n    console.log(result);\n\n    client.close();\n\n    res.status(201).json({message: 'meetup inserted!'});\n  };\n\n};\nexport default MeetupDetail;\n"]},"metadata":{},"sourceType":"module"}